<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CellService - Sistema de Gerenciamento</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client"></script>
</head>
<body class="bg-gray-100">
    <div id="app">
        <!-- Nav -->
        <nav class="bg-blue-600 text-white p-4">
            <div class="container mx-auto flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-mobile-alt text-2xl"></i>
                    <h1 class="text-xl font-bold">CellService</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span id="user-info" class="hidden">
                        <span id="user-name"></span>
                        <button id="logout-btn" class="ml-2 px-2 py-1 bg-blue-700 rounded hover:bg-blue-800">Sair</button>
                    </span>
                    <div id="login-container"></div>
                </div>
            </div>
        </nav>

        <!-- Login Screen -->
        <div id="login-screen" class="container mx-auto mt-10 p-6 bg-white rounded-lg shadow-md max-w-md text-center">
            <h2 class="text-2xl font-bold mb-6">Bem-vindo ao CellService</h2>
            <p class="mb-6">Faça login para acessar o sistema de gerenciamento de assistência técnica.</p>
            <div id="g-signin"></div>
        </div>

        <!-- Main App (Hidden until login) -->
        <div id="main-app" class="hidden">
            <!-- Dashboard -->
            <div class="container mx-auto mt-6 px-4">
                <div class="flex flex-col md:flex-row gap-6">
                    <!-- Sidebar -->
                    <div class="md:w-64 bg-white p-4 rounded-lg shadow-md h-fit">
                        <ul class="space-y-2">
                            <li>
                                <button id="dashboard-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2 active-menu">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span>Dashboard</span>
                                </button>
                            </li>
                            <li>
                                <button id="clients-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2">
                                    <i class="fas fa-users"></i>
                                    <span>Clientes</span>
                                </button>
                            </li>
                            <li>
                                <button id="services-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2">
                                    <i class="fas fa-tools"></i>
                                    <span>Serviços</span>
                                </button>
                            </li>
                            <li>
                                <button id="reports-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2">
                                    <i class="fas fa-chart-bar"></i>
                                    <span>Relatórios</span>
                                </button>
                            </li>
                            <li>
                                <button id="settings-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2">
                                    <i class="fas fa-cog"></i>
                                    <span>Configurações</span>
                                </button>
                            </li>
                        </ul>
                    </div>

                    <!-- Content Area -->
                    <div class="flex-1">
                        <!-- Dashboard Content -->
                        <div id="dashboard-content" class="bg-white p-6 rounded-lg shadow-md">
                            <h2 class="text-xl font-bold mb-6">Dashboard</h2>
                            
                            <!-- Stats Cards -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                                <div class="bg-blue-100 p-4 rounded-lg shadow">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h3 class="text-sm font-medium text-blue-800">Serviços Pendentes</h3>
                                            <p id="pending-count" class="text-2xl font-bold text-blue-600">--</p>
                                        </div>
                                        <div class="bg-blue-200 p-3 rounded-full">
                                            <i class="fas fa-clock text-blue-600"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-green-100 p-4 rounded-lg shadow">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h3 class="text-sm font-medium text-green-800">Serviços Concluídos</h3>
                                            <p id="completed-count" class="text-2xl font-bold text-green-600">--</p>
                                        </div>
                                        <div class="bg-green-200 p-3 rounded-full">
                                            <i class="fas fa-check text-green-600"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-purple-100 p-4 rounded-lg shadow">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h3 class="text-sm font-medium text-purple-800">Faturamento Total</h3>
                                            <p id="total-revenue" class="text-2xl font-bold text-purple-600">--</p>
                                        </div>
                                        <div class="bg-purple-200 p-3 rounded-full">
                                            <i class="fas fa-dollar-sign text-purple-600"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Recent Services -->
                            <div class="mb-6">
                                <h3 class="text-lg font-semibold mb-3">Serviços Recentes</h3>
                                <div class="overflow-x-auto">
                                    <table class="min-w-full bg-white">
                                        <thead class="bg-gray-100">
                                            <tr>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Cliente</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Modelo</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Serviço</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Valor</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Status</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Data</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recent-services-table">
                                            <!-- Data will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Clients Content (hidden by default) -->
                        <div id="clients-content" class="bg-white p-6 rounded-lg shadow-md hidden">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-xl font-bold">Clientes</h2>
                                <button id="add-client-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                    <i class="fas fa-plus mr-2"></i>Novo Cliente
                                </button>
                            </div>
                            
                            <!-- Search -->
                            <div class="mb-6">
                                <div class="flex items-center border rounded p-2 bg-gray-50">
                                    <i class="fas fa-search text-gray-400 mr-2"></i>
                                    <input type="text" id="client-search" placeholder="Buscar cliente..." class="w-full outline-none bg-transparent">
                                </div>
                            </div>
                            
                            <!-- Clients List -->
                            <div class="overflow-x-auto">
                                <table class="min-w-full bg-white">
                                    <thead class="bg-gray-100">
                                        <tr>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Nome</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">E-mail</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Telefone</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Serviços</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="clients-table">
                                        <!-- Data will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Services Content (hidden by default) -->
                        <div id="services-content" class="bg-white p-6 rounded-lg shadow-md hidden">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-xl font-bold">Serviços</h2>
                                <button id="add-service-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                    <i class="fas fa-plus mr-2"></i>Novo Serviço
                                </button>
                            </div>
                            
                            <!-- Filters -->
                            <div class="mb-6 grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Buscar</label>
                                    <div class="flex items-center border rounded p-2 bg-gray-50">
                                        <i class="fas fa-search text-gray-400 mr-2"></i>
                                        <input type="text" id="service-search" placeholder="Nome, IMEI..." class="w-full outline-none bg-transparent">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                                    <select id="status-filter" class="w-full border rounded p-2 bg-gray-50">
                                        <option value="">Todos</option>
                                        <option value="Pendente">Pendente</option>
                                        <option value="Em Processo">Em Processo</option>
                                        <option value="Rejeitado">Rejeitado</option>
                                        <option value="Concluído">Concluído</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Marca</label>
                                    <select id="brand-filter" class="w-full border rounded p-2 bg-gray-50">
                                        <option value="">Todas</option>
                                        <option value="Apple">Apple</option>
                                        <option value="Samsung">Samsung</option>
                                        <option value="Xiaomi">Xiaomi</option>
                                        <option value="Motorola">Motorola</option>
                                        <option value="Outros">Outros</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Ordenar por</label>
                                    <select id="order-by" class="w-full border rounded p-2 bg-gray-50">
                                        <option value="date-desc">Data (mais recente)</option>
                                        <option value="date-asc">Data (mais antiga)</option>
                                        <option value="value-desc">Valor (maior)</option>
                                        <option value="value-asc">Valor (menor)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Services Table -->
                            <div class="overflow-x-auto">
                                <table class="min-w-full bg-white">
                                    <thead class="bg-gray-100">
                                        <tr>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Cliente</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Aparelho</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">IMEI</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Serviço</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Valor</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Pagamento</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Status</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Data</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="services-table">
                                        <!-- Data will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Reports Content -->
                        <div id="reports-content" class="bg-white p-6 rounded-lg shadow-md hidden">
                            <h2 class="text-xl font-bold mb-6">Relatórios</h2>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                                <div class="bg-white p-4 border rounded-lg shadow">
                                    <h3 class="text-lg font-semibold mb-4">Relatório Financeiro</h3>
                                    <p class="text-gray-600 mb-4">Visualize o desempenho financeiro dos serviços realizados.</p>
                                    <button id="financial-report-btn" class="w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                        Gerar Relatório
                                    </button>
                                </div>
                                
                                <div class="bg-white p-4 border rounded-lg shadow">
                                    <h3 class="text-lg font-semibold mb-4">Relatório de Serviços</h3>
                                    <p class="text-gray-600 mb-4">Acompanhe os tipos de serviços mais solicitados.</p>
                                    <button id="services-report-btn" class="w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                        Gerar Relatório
                                    </button>
                                </div>
                                
                                <div class="bg-white p-4 border rounded-lg shadow">
                                    <h3 class="text-lg font-semibold mb-4">Relatório de Clientes</h3>
                                    <p class="text-gray-600 mb-4">Analise o perfil dos clientes e frequência de serviços.</p>
                                    <button id="clients-report-btn" class="w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                        Gerar Relatório
                                    </button>
                                </div>
                            </div>
                            
                            <div id="report-content" class="hidden">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 id="report-title" class="text-lg font-semibold"></h3>
                                    <div>
                                        <button id="export-pdf-btn" class="px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm mr-2">
                                            <i class="fas fa-file-pdf mr-1"></i> PDF
                                        </button>
                                        <button id="export-excel-btn" class="px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700 text-sm">
                                            <i class="fas fa-file-excel mr-1"></i> Excel
                                        </button>
                                    </div>
                                </div>
                                
                                <div id="report-chart-container" class="mb-6 h-64"></div>
                                
                                <div id="report-table-container" class="overflow-x-auto">
                                    <!-- Tabela de relatório será carregada aqui -->
                                </div>
                            </div>
                        </div>

                        <!-- Settings Content -->
                        <div id="settings-content" class="bg-white p-6 rounded-lg shadow-md hidden">
                            <h2 class="text-xl font-bold mb-6">Configurações</h2>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="bg-white p-4 border rounded-lg shadow">
                                    <h3 class="text-lg font-semibold mb-4">Configurações do Sistema</h3>
                                    
                                    <form id="settings-form">
                                        <div class="mb-4">
                                            <label for="shop-name" class="block text-sm font-medium text-gray-700 mb-1">Nome da Loja</label>
                                            <input type="text" id="shop-name" name="shop-name"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        </div>
                                        
                                        <div class="mb-4">
                                            <label for="shop-email" class="block text-sm font-medium text-gray-700 mb-1">E-mail para Notificações</label>
                                            <input type="email" id="shop-email" name="shop-email"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                        </div>
                                        
                                        <div class="mb-4">
                                            <label for="auto-notify" class="block text-sm font-medium text-gray-700 mb-1">Notificações Automáticas</label>
                                            <select id="auto-notify" name="auto-notify"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                                <option value="always">Sempre</option>
                                                <option value="status-change">Apenas mudança de status</option>
                                                <option value="never">Nunca</option>
                                            </select>
                                        </div>
                                        
                                        <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                            Salvar Configurações
                                        </button>
                                    </form>
                                </div>
                                
                                <div class="bg-white p-4 border rounded-lg shadow">
                                    <h3 class="text-lg font-semibold mb-4">Integrações</h3>
                                    
                                    <div class="mb-4">
                                        <div class="flex justify-between mb-2">
                                            <span class="text-sm font-medium text-gray-700">API de Pagamento</span>
                                            <span class="text-xs font-semibold text-red-600">Desconectado</span>
                                        </div>
                                        <button class="w-full px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">
                                            Configurar API de Pagamento
                                        </button>
                                    </div>
                                    
                                    <div class="mb-4">
                                        <div class="flex justify-between mb-2">
                                            <span class="text-sm font-medium text-gray-700">API de SMS</span>
                                            <span class="text-xs font-semibold text-red-600">Desconectado</span>
                                        </div>
                                        <button class="w-full px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300">
                                            Configurar API de SMS
                                        </button>
                                    </div>
                                    
                                    <div class="mb-4">
                                        <div class="flex justify-between mb-2">
                                            <span class="text-sm font-medium text-gray-700">Backup Automático</span>
                                            <span class="text-xs font-semibold text-green-600">Conectado</span>
                                        </div>
                                        <button class="w-full px-4 py-2 bg-green-100 text-green-800 rounded hover:bg-green-200">
                                            Configurar Backup
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Formulário para Adicionar Cliente (Modal) -->
    <div id="add-client-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Adicionar Novo Cliente</h3>
                <button class="text-gray-500 hover:text-gray-700" onclick="closeClientModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="add-client-form">
                <div class="mb-4">
                    <label for="client-name" class="block text-sm font-medium text-gray-700 mb-1">Nome Completo*</label>
                    <input type="text" id="client-name" name="client-name" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                
                <div class="mb-4">
                    <label for="client-email" class="block text-sm font-medium text-gray-700 mb-1">E-mail*</label>
                    <input type="email" id="client-email" name="client-email" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                
                <div class="mb-4">
                    <label for="client-phone" class="block text-sm font-medium text-gray-700 mb-1">Telefone*</label>
                    <input type="tel" id="client-phone" name="client-phone" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                
                <div class="flex justify-end mt-6">
                    <button type="button" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 mr-2" onclick="closeClientModal()">
                        Cancelar
                    </button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                        Salvar Cliente
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Formulário para Adicionar Serviço (Modal) -->
    <div id="add-service-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Adicionar Novo Serviço</h3>
                <button class="text-gray-500 hover:text-gray-700" onclick="closeServiceModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="add-service-form">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="service-client" class="block text-sm font-medium text-gray-700 mb-1">Cliente*</label>
                        <select id="service-client" name="service-client" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Selecione um cliente</option>
                            <!-- Opções carregadas dinamicamente -->
                        </select>
                    </div>
                    
                    <div>
                        <label for="service-type" class="block text-sm font-medium text-gray-700 mb-1">Tipo de Serviço*</label>
                        <select id="service-type" name="service-type" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Selecione o serviço</option>
                            <option value="Desbloqueio">Desbloqueio</option>
                            <option value="Troca de Tela">Troca de Tela</option>
                            <option value="Reparo de Placa">Reparo de Placa</option>
                            <option value="Troca de Bateria">Troca de Bateria</option>
                            <option value="Reparo de Conector">Reparo de Conector</option>
                            <option value="Atualização">Atualização de Software</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="service-brand" class="block text-sm font-medium text-gray-700 mb-1">Marca*</label>
                        <select id="service-brand" name="service-brand" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Selecione a marca</option>
                            <option value="Apple">Apple</option>
                            <option value="Samsung">Samsung</option>
                            <option value="Xiaomi">Xiaomi</option>
                            <option value="Motorola">Motorola</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="service-model" class="block text-sm font-medium text-gray-700 mb-1">Modelo*</label>
                        <input type="text" id="service-model" name="service-model" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label for="service-imei" class="block text-sm font-medium text-gray-700 mb-1">IMEI*</label>
                        <input type="text" id="service-imei" name="service-imei" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label for="service-value" class="block text-sm font-medium text-gray-700 mb-1">Valor (R$)*</label>
                        <input type="number" id="service-value" name="service-value" step="0.01" min="0" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                    
                    <div>
                        <label for="service-payment" class="block text-sm font-medium text-gray-700 mb-1">Forma de Pagamento*</label>
                        <select id="service-payment" name="service-payment" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option value="">Selecione</option>
                            <option value="Pix">Pix</option>
                            <option value="Cartão">Cartão</option>
                            <option value="Dinheiro">Dinheiro</option>
                            <option value="Parcelado">Parcelado</option>
                        </select>
                    </div>
                    
                    <div>
                        <label for="service-date" class="block text-sm font-medium text-gray-700 mb-1">Data*</label>
                        <input type="date" id="service-date" name="service-date" required
                            class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                    </div>
                </div>
                
                <div class="mt-4">
                    <label for="service-notes" class="block text-sm font-medium text-gray-700 mb-1">Observações</label>
                    <textarea id="service-notes" name="service-notes" rows="3"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                
                <div class="mt-4">
                    <label class="block text-sm font-medium text-gray-700 mb-1">Foto do Aparelho</label>
                    <div class="flex items-center justify-center w-full">
                        <label for="service-photo" class="flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100">
                            <div class="flex flex-col items-center justify-center pt-5 pb-6">
                                <i class="fas fa-upload mb-3 text-gray-400 text-xl"></i>
                                <p class="mb-2 text-sm text-gray-500"><span class="font-semibold">Clique para carregar</span> ou arraste e solte</p>
                                <p class="text-xs text-gray-500">PNG, JPG ou JPEG (máx. 2MB)</p>
                            </div>
                            <input id="service-photo" type="file" class="hidden" accept="image/png, image/jpeg, image/jpg" />
                        </label>
                    </div>
                </div>
                
                <div class="flex justify-end mt-6">
                    <button type="button" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 mr-2" onclick="closeServiceModal()">
                        Cancelar
                    </button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                        Registrar Serviço
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de detalhes do serviço -->
    <div id="service-details-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Detalhes do Serviço</h3>
                <button class="text-gray-500 hover:text-gray-700" onclick="closeServiceDetailsModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="service-details-content">
                <!-- Conteúdo carregado dinamicamente -->
            </div>
            
            <div class="flex justify-end mt-6">
                <button type="button" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300" onclick="closeServiceDetailsModal()">
                    Fechar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Atualização de Status -->
    <div id="status-update-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">Atualizar Status do Serviço</h3>
                <button class="text-gray-500 hover:text-gray-700" onclick="closeStatusUpdateModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="status-update-form">
                <input type="hidden" id="status-service-id">
                
                <div class="mb-4">
                    <label for="status-select" class="block text-sm font-medium text-gray-700 mb-1">Status*</label>
                    <select id="status-select" name="status-select" required
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="Pendente">Pendente</option>
                        <option value="Em Processo">Em Processo</option>
                        <option value="Concluído">Concluído</option>
                        <option value="Rejeitado">Rejeitado</option>
                    </select>
                </div>
                
                <div class="mb-4">
                    <label for="status-notes" class="block text-sm font-medium text-gray-700 mb-1">Observações</label>
                    <textarea id="status-notes" name="status-notes" rows="3"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                
                <div class="mb-4">
                    <label class="flex items-center">
                        <input type="checkbox" id="send-notification" class="mr-2">
                        <span class="text-sm text-gray-700">Notificar cliente sobre a atualização</span>
                    </label>
                </div>
                
                <div class="flex justify-end mt-6">
                    <button type="button" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 mr-2" onclick="closeStatusUpdateModal()">
                        Cancelar
                    </button>
                    <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                        Atualizar Status
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="main.js"></script>
    <script src="form-handlers.js"></script>
</body>
</html>