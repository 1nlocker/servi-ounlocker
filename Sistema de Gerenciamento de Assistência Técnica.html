<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CellService - Sistema de Gerenciamento</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client"></script>
</head>
<body class="bg-gray-100">
    <div id="app">
        <!-- Nav -->
        <nav class="bg-blue-600 text-white p-4">
            <div class="container mx-auto flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-mobile-alt text-2xl"></i>
                    <h1 class="text-xl font-bold">CellService</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span id="user-info" class="hidden">
                        <span id="user-name"></span>
                        <button id="logout-btn" class="ml-2 px-2 py-1 bg-blue-700 rounded hover:bg-blue-800">Sair</button>
                    </span>
                    <div id="login-container"></div>
                </div>
            </div>
        </nav>

        <!-- Login Screen -->
        <div id="login-screen" class="container mx-auto mt-10 p-6 bg-white rounded-lg shadow-md max-w-md text-center">
            <h2 class="text-2xl font-bold mb-6">Bem-vindo ao CellService</h2>
            <p class="mb-6">Faça login para acessar o sistema de gerenciamento de assistência técnica.</p>
            <div id="g-signin"></div>
        </div>

        <!-- Main App (Hidden until login) -->
        <div id="main-app" class="hidden">
            <!-- Dashboard -->
            <div class="container mx-auto mt-6 px-4">
                <div class="flex flex-col md:flex-row gap-6">
                    <!-- Sidebar -->
                    <div class="md:w-64 bg-white p-4 rounded-lg shadow-md h-fit">
                        <ul class="space-y-2">
                            <li>
                                <button id="dashboard-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2 active-menu">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <span>Dashboard</span>
                                </button>
                            </li>
                            <li>
                                <button id="clients-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2">
                                    <i class="fas fa-users"></i>
                                    <span>Clientes</span>
                                </button>
                            </li>
                            <li>
                                <button id="services-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2">
                                    <i class="fas fa-tools"></i>
                                    <span>Serviços</span>
                                </button>
                            </li>
                            <li>
                                <button id="reports-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2">
                                    <i class="fas fa-chart-bar"></i>
                                    <span>Relatórios</span>
                                </button>
                            </li>
                            <li>
                                <button id="settings-btn" class="w-full text-left p-2 rounded hover:bg-blue-100 flex items-center space-x-2">
                                    <i class="fas fa-cog"></i>
                                    <span>Configurações</span>
                                </button>
                            </li>
                        </ul>
                    </div>

                    <!-- Content Area -->
                    <div class="flex-1">
                        <!-- Dashboard Content -->
                        <div id="dashboard-content" class="bg-white p-6 rounded-lg shadow-md">
                            <h2 class="text-xl font-bold mb-6">Dashboard</h2>
                            
                            <!-- Stats Cards -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                                <div class="bg-blue-100 p-4 rounded-lg shadow">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h3 class="text-sm font-medium text-blue-800">Serviços Pendentes</h3>
                                            <p id="pending-count" class="text-2xl font-bold text-blue-600">--</p>
                                        </div>
                                        <div class="bg-blue-200 p-3 rounded-full">
                                            <i class="fas fa-clock text-blue-600"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-green-100 p-4 rounded-lg shadow">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h3 class="text-sm font-medium text-green-800">Serviços Concluídos</h3>
                                            <p id="completed-count" class="text-2xl font-bold text-green-600">--</p>
                                        </div>
                                        <div class="bg-green-200 p-3 rounded-full">
                                            <i class="fas fa-check text-green-600"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-purple-100 p-4 rounded-lg shadow">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <h3 class="text-sm font-medium text-purple-800">Faturamento Total</h3>
                                            <p id="total-revenue" class="text-2xl font-bold text-purple-600">--</p>
                                        </div>
                                        <div class="bg-purple-200 p-3 rounded-full">
                                            <i class="fas fa-dollar-sign text-purple-600"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Recent Services -->
                            <div class="mb-6">
                                <h3 class="text-lg font-semibold mb-3">Serviços Recentes</h3>
                                <div class="overflow-x-auto">
                                    <table class="min-w-full bg-white">
                                        <thead class="bg-gray-100">
                                            <tr>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Cliente</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Modelo</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Serviço</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Valor</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Status</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Data</th>
                                                <th class="text-left py-3 px-4 font-semibold text-sm">Ações</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recent-services-table">
                                            <!-- Data will be loaded here -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Clients Content (hidden by default) -->
                        <div id="clients-content" class="bg-white p-6 rounded-lg shadow-md hidden">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-xl font-bold">Clientes</h2>
                                <button id="add-client-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                    <i class="fas fa-plus mr-2"></i>Novo Cliente
                                </button>
                            </div>
                            
                            <!-- Search -->
                            <div class="mb-6">
                                <div class="flex items-center border rounded p-2 bg-gray-50">
                                    <i class="fas fa-search text-gray-400 mr-2"></i>
                                    <input type="text" id="client-search" placeholder="Buscar cliente..." class="w-full outline-none bg-transparent">
                                </div>
                            </div>
                            
                            <!-- Clients List -->
                            <div class="overflow-x-auto">
                                <table class="min-w-full bg-white">
                                    <thead class="bg-gray-100">
                                        <tr>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Nome</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">E-mail</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Telefone</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Serviços</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="clients-table">
                                        <!-- Data will be loaded here -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Services Content (hidden by default) -->
                        <div id="services-content" class="bg-white p-6 rounded-lg shadow-md hidden">
                            <div class="flex justify-between items-center mb-6">
                                <h2 class="text-xl font-bold">Serviços</h2>
                                <button id="add-service-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">
                                    <i class="fas fa-plus mr-2"></i>Novo Serviço
                                </button>
                            </div>
                            
                            <!-- Filters -->
                            <div class="mb-6 grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Buscar</label>
                                    <div class="flex items-center border rounded p-2 bg-gray-50">
                                        <i class="fas fa-search text-gray-400 mr-2"></i>
                                        <input type="text" id="service-search" placeholder="Nome, IMEI..." class="w-full outline-none bg-transparent">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                                    <select id="status-filter" class="w-full border rounded p-2 bg-gray-50">
                                        <option value="">Todos</option>
                                        <option value="Pendente">Pendente</option>
                                        <option value="Em Processo">Em Processo</option>
                                        <option value="Rejeitado">Rejeitado</option>
                                        <option value="Concluído">Concluído</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Marca</label>
                                    <select id="brand-filter" class="w-full border rounded p-2 bg-gray-50">
                                        <option value="">Todas</option>
                                        <option value="Apple">Apple</option>
                                        <option value="Samsung">Samsung</option>
                                        <option value="Xiaomi">Xiaomi</option>
                                        <option value="Motorola">Motorola</option>
                                        <option value="Outros">Outros</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-1">Ordenar por</label>
                                    <select id="order-by" class="w-full border rounded p-2 bg-gray-50">
                                        <option value="date-desc">Data (mais recente)</option>
                                        <option value="date-asc">Data (mais antiga)</option>
                                        <option value="value-desc">Valor (maior)</option>
                                        <option value="value-asc">Valor (menor)</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Services Table -->
                            <div class="overflow-x-auto">
                                <table class="min-w-full bg-white">
                                    <thead class="bg-gray-100">
                                        <tr>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Cliente</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Aparelho</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">IMEI</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Serviço</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Valor</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Pagamento</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Status</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Data</th>
                                            <th class="text-left py-3 px-4 font-semibold text-sm">Ações</th>
                                        </tr>
                                    </thead>
                                    <tbody id="services-table">
                                        <!-- Data will be loaded here -->
                                    </tbody>
                                </table>